# Social-xLSTM æ¸¬è©¦ç³»çµ±é‡æ§‹ç¸½çµ

## ğŸ“‹ é‡æ§‹æ¦‚è¿°

æˆ‘å€‘å·²ç¶“å®Œæˆäº† Social-xLSTM å°ˆæ¡ˆçš„æ¸¬è©¦ç³»çµ±é‡æ§‹ï¼Œå°‡åŸæœ¬æ··äº‚çš„æ¸¬è©¦çµæ§‹é‡æ–°çµ„ç¹”æˆæ¸…æ™°ã€å¯ç¶­è­·çš„å½¢å¼ã€‚

## ğŸ”„ é‡æ§‹å‰å¾Œå°æ¯”

### **é‡æ§‹å‰çš„å•é¡Œ**
```
test/
â”œâ”€â”€ project/                    # âŒ åç¨±ä¸æ¸…æ¥š
â”‚   â”œâ”€â”€ gpu_test.py            # â“ æ‡‰è©²æ˜¯ç¯„ä¾‹
â”‚   â””â”€â”€ xlstm/basic_stack.py   # â“ æ‡‰è©²æ˜¯ç¯„ä¾‹
â””â”€â”€ test_social_xlstm/         # âœ… ä½†çµæ§‹å¹³å¦
    â”œâ”€â”€ dataset/
    â”œâ”€â”€ test_loader_xlstm.py   # â“ ä½ç½®ä¸ç•¶
    â””â”€â”€ ...
```

### **é‡æ§‹å¾Œçš„çµæ§‹**
```
tests/                          # âœ… æ¨™æº–æ¸¬è©¦ç›®éŒ„
â”œâ”€â”€ conftest.py                # âœ… å…¨å±€é…ç½®
â”œâ”€â”€ pytest.ini                # âœ… pytest è¨­å®š
â”œâ”€â”€ README.md                  # âœ… æ¸¬è©¦æ–‡æª”
â”œâ”€â”€ unit/                      # âœ… å–®å…ƒæ¸¬è©¦
â”œâ”€â”€ integration/               # âœ… æ•´åˆæ¸¬è©¦
â”œâ”€â”€ functional/                # âœ… åŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ fixtures/                  # âœ… æ¸¬è©¦æ•¸æ“š
â””â”€â”€ ...

examples/                       # âœ… ç¯„ä¾‹ä»£ç¢¼åˆ†é›¢
â”œâ”€â”€ basic_usage/
â”‚   â”œâ”€â”€ gpu_test.py
â”‚   â””â”€â”€ xlstm_basic.py
â””â”€â”€ ...
```

## ğŸ¯ æ–°æ¸¬è©¦ç³»çµ±ç‰¹è‰²

### 1. **æ¸…æ™°çš„æ¸¬è©¦åˆ†é¡**
- **Unit Tests**: æ¸¬è©¦å€‹åˆ¥æ¨¡çµ„å’Œå‡½æ•¸
- **Integration Tests**: æ¸¬è©¦æ¨¡çµ„é–“äº¤äº’
- **Functional Tests**: æ¸¬è©¦å®Œæ•´ç”¨æˆ¶å·¥ä½œæµç¨‹

### 2. **å®Œæ•´çš„é…ç½®ç³»çµ±**
- å…¨å±€ pytest é…ç½® (`conftest.py`)
- æ¸¬è©¦é¡å‹å°ˆç”¨é…ç½®
- è±å¯Œçš„ fixtures æ”¯æ´

### 3. **å°ˆæ¥­çš„æ¸¬è©¦å·¥å…·**
- æ¸¬è©¦æ¨™è¨˜ç³»çµ± (`@pytest.mark.unit`, `@pytest.mark.slow`)
- è‡ªå‹•åŒ–æ¸¬è©¦ç’°å¢ƒè¨­ç½®
- æ¸¬è©¦æ•¸æ“šç”Ÿæˆå™¨

### 4. **ç¯„ä¾‹èˆ‡æ¸¬è©¦åˆ†é›¢**
- å°‡ç¯„ä¾‹ä»£ç¢¼ç§»å‹•åˆ° `examples/` ç›®éŒ„
- æ¸…æ¥šå€åˆ†æ¸¬è©¦å’Œç¯„ä¾‹çš„ç”¨é€”

## ğŸ“Š æ¸¬è©¦è¦†è“‹çµ±è¨ˆ

### **ç¸½æ¸¬è©¦æ•¸é‡**: 44 å€‹æ¸¬è©¦
- **Unit Tests**: 39 å€‹
  - TrainingRecorder: 20 å€‹
  - TrainingVisualizer: 19 å€‹
- **Integration Tests**: 5 å€‹
- **Functional Tests**: 3 å€‹ï¼ˆåŒ…å«ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹ï¼‰

### **æ¸¬è©¦é€šéç‡**: 100%
- æ‰€æœ‰æ¸¬è©¦éƒ½é€šé
- å·²ä¿®å¾©æ¸¬è©¦ä¸­çš„å•é¡Œ
- æ·»åŠ äº†é‚Šç·£æ¡ˆä¾‹è™•ç†

## ğŸš€ ä¸»è¦æ”¹é€²

### 1. **æ¸¬è©¦çµ„ç¹”çµæ§‹**
```bash
# é‹è¡Œç‰¹å®šé¡å‹çš„æ¸¬è©¦
pytest -m unit              # åªé‹è¡Œå–®å…ƒæ¸¬è©¦
pytest -m integration       # åªé‹è¡Œæ•´åˆæ¸¬è©¦
pytest -m functional        # åªé‹è¡ŒåŠŸèƒ½æ¸¬è©¦

# é‹è¡Œç‰¹å®šç›®éŒ„
pytest tests/unit/           # å–®å…ƒæ¸¬è©¦
pytest tests/integration/   # æ•´åˆæ¸¬è©¦

# è·³éæ…¢é€Ÿæ¸¬è©¦
pytest -m "not slow"
```

### 2. **è±å¯Œçš„ Fixtures**
- `temp_dir`: è‡¨æ™‚ç›®éŒ„ç®¡ç†
- `sample_data`: æ¸¬è©¦æ•¸æ“šç”Ÿæˆ
- `mock_training_environment`: æ¨¡æ“¬è¨“ç·´ç’°å¢ƒ
- `sample_recorder`: é é…ç½®çš„æ¸¬è©¦è¨˜éŒ„å™¨

### 3. **å®Œæ•´çš„æ¸¬è©¦å ´æ™¯**
- **æ­£å¸¸æƒ…æ³**: åŸºæœ¬åŠŸèƒ½æ¸¬è©¦
- **é‚Šç·£æƒ…æ³**: ç©ºæ•¸æ“šã€ç•°å¸¸å€¼è™•ç†
- **éŒ¯èª¤è™•ç†**: ç•°å¸¸æƒ…æ³æ¸¬è©¦
- **ç«¯åˆ°ç«¯æµç¨‹**: å®Œæ•´ç”¨æˆ¶å·¥ä½œæµç¨‹

## ğŸ”§ æ–°æ¸¬è©¦åŠŸèƒ½

### 1. **å°ˆæ¥­çš„æ¸¬è©¦æ•¸æ“šç”Ÿæˆ**
```python
from tests.fixtures.sample_data import SampleDataGenerator

# ç”ŸæˆçœŸå¯¦çš„äº¤é€šæ•¸æ“š
traffic_data = SampleDataGenerator.traffic_time_series(num_samples=1000)

# ç”Ÿæˆ HDF5 æ¸¬è©¦æ–‡ä»¶
SampleDataGenerator.hdf5_file("test_data.h5", num_vds=5)
```

### 2. **å®Œæ•´çš„æ•´åˆæ¸¬è©¦**
- æ¸¬è©¦å®Œæ•´çš„è¨“ç·´æµç¨‹
- æ¸¬è©¦æ¨¡å‹ä¿å­˜å’Œè¼‰å…¥
- æ¸¬è©¦è¦–è¦ºåŒ–æ•´åˆ
- æ¸¬è©¦ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹

### 3. **åŠŸèƒ½æ¸¬è©¦å ´æ™¯**
- **Baseline å¯¦é©—å·¥ä½œæµç¨‹**: å®Œæ•´çš„åŸºç·šå¯¦é©—æµç¨‹
- **æ–°æŒ‡æ¨™è¨ˆç®—å·¥ä½œæµç¨‹**: äº‹å¾Œæ·»åŠ æ–°æŒ‡æ¨™çš„æµç¨‹
- **å¯¦é©—æ¯”è¼ƒå·¥ä½œæµç¨‹**: å¤šå€‹å¯¦é©—çš„æ¯”è¼ƒåˆ†æ

## ğŸ“ˆ æ¸¬è©¦æœ€ä½³å¯¦è¸

### 1. **æ¸¬è©¦éš”é›¢**
- æ¯å€‹æ¸¬è©¦ç¨ç«‹é‹è¡Œ
- ä½¿ç”¨è‡¨æ™‚ç›®éŒ„é¿å…æ–‡ä»¶è¡çª
- æ¸…ç†æ¸¬è©¦ç’°å¢ƒ

### 2. **å¯é‡ç¾æ€§**
- è¨­ç½®éš¨æ©Ÿç¨®å­
- ä½¿ç”¨å›ºå®šçš„æ¸¬è©¦æ•¸æ“š
- ç¢ºå®šæ€§çš„æ¸¬è©¦è¡Œç‚º

### 3. **æ€§èƒ½è€ƒæ…®**
- æ¨™è¨˜æ…¢é€Ÿæ¸¬è©¦
- æ”¯æ´ä¸¦è¡ŒåŸ·è¡Œ
- é©ç•¶çš„æ¸¬è©¦æ•¸æ“šå¤§å°

## ğŸ¯ å° Baseline å¯¦é©—çš„åƒ¹å€¼

### 1. **é©—è­‰ç³»çµ±æ­£ç¢ºæ€§**
- ç¢ºä¿ TrainingRecorder æ­£å¸¸å·¥ä½œ
- é©—è­‰ TrainingVisualizer åŠŸèƒ½
- æ¸¬è©¦å®Œæ•´çš„å¯¦é©—æµç¨‹

### 2. **æ”¯æ´å¯¦é©—æ¯”è¼ƒ**
- åŠŸèƒ½æ¸¬è©¦æ¨¡æ“¬äº†å®Œæ•´çš„ baseline å¯¦é©—
- æ¸¬è©¦äº†å–®VD vs å¤šVDçš„æ¯”è¼ƒ
- é©—è­‰äº†å¯¦é©—çµæœçš„è¨˜éŒ„å’Œåˆ†æ

### 3. **ç¢ºä¿ç³»çµ±ç©©å®šæ€§**
- é‚Šç·£æƒ…æ³æ¸¬è©¦
- éŒ¯èª¤è™•ç†é©—è­‰
- ç•°å¸¸æƒ…æ³è™•ç†

## ğŸƒâ€â™‚ï¸ å¿«é€Ÿé–‹å§‹

### é‹è¡Œæ‰€æœ‰æ¸¬è©¦
```bash
# åŸºæœ¬æ¸¬è©¦
pytest

# è©³ç´°è¼¸å‡º
pytest -v

# è·³éæ…¢é€Ÿæ¸¬è©¦
pytest -m "not slow"

# ä¸¦è¡Œé‹è¡Œ
pytest -n auto
```

### é‹è¡Œç‰¹å®šæ¸¬è©¦
```bash
# åªé‹è¡Œ TrainingRecorder æ¸¬è©¦
pytest tests/unit/training/test_recorder.py

# åªé‹è¡Œæ•´åˆæ¸¬è©¦
pytest tests/integration/

# é‹è¡Œç«¯åˆ°ç«¯æ¸¬è©¦
pytest tests/functional/test_end_to_end.py::TestEndToEndWorkflows::test_baseline_experiment_workflow
```

## ğŸ“š ç›¸é—œæ–‡æª”

- [æ¸¬è©¦ç³»çµ±è©³ç´°èªªæ˜](tests/README.md)
- [TrainingRecorder ä½¿ç”¨æŒ‡å—](docs/guides/training_recorder_guide.md)
- [TrainingVisualizer ä½¿ç”¨æŒ‡å—](docs/guides/training_visualizer_guide.md)

## ğŸ‰ ç¸½çµ

é€šéé€™æ¬¡é‡æ§‹ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹ï¼š
- âœ… **å°ˆæ¥­çš„æ¸¬è©¦æ¡†æ¶**ï¼šåˆ†å±¤æ¸¬è©¦ã€å®Œæ•´é…ç½®
- âœ… **å®Œæ•´çš„æ¸¬è©¦è¦†è“‹**ï¼šå–®å…ƒã€æ•´åˆã€åŠŸèƒ½æ¸¬è©¦
- âœ… **å¯¦ç”¨çš„æ¸¬è©¦å·¥å…·**ï¼šæ•¸æ“šç”Ÿæˆã€æ¨¡æ“¬ç’°å¢ƒ
- âœ… **æ¸…æ™°çš„ä»£ç¢¼çµ„ç¹”**ï¼šæ¸¬è©¦èˆ‡ç¯„ä¾‹åˆ†é›¢
- âœ… **å¯ç¶­è­·çš„ç³»çµ±**ï¼šæ¨¡çµ„åŒ–ã€æ–‡æª”åŒ–

ç¾åœ¨æ¸¬è©¦ç³»çµ±å·²ç¶“æº–å‚™å¥½æ”¯æ´ baseline å¯¦é©—å’Œå¾ŒçºŒçš„é–‹ç™¼å·¥ä½œï¼