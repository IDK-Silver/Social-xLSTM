# Social-xLSTM 待辦事項清單

最後更新：2025-01-09

## 🚨 緊急任務（本週 P0）

### 1. ✅ LSTM 實現統一 - 已完成
- [x] 審核 ADR-0002 並決定是否執行
- [x] 執行 LSTM 統一計劃：
  - [x] 階段 1：功能分析與精華提取（1天）
  - [x] 階段 2：標準實現建立（2天）
  - [x] 階段 3：遷移與清理（2天）
  - [x] 階段 4：測試與驗證（1天）
- [x] 統一的 TrafficLSTM 實現 (src/social_xlstm/models/lstm.py)
- [x] 支援單VD和多VD模式
- [x] 完整的訓練系統整合

### 2. Social Pooling 核心實現 🎯
- [ ] 實現座標驅動社交池化算法
- [ ] 設計網格劃分機制
- [ ] 整合現有 CoordinateSystem
- [ ] 建立 Social Pooling 單元測試

### 3. Social-xLSTM 模型骨架 🏗️
- [ ] 創建 SocialTrafficXLSTM 基本結構
- [ ] 整合 Social Pooling 層
- [ ] 設計 Hybrid xLSTM 架構（sLSTM + mLSTM）
- [ ] 建立模型初始化和前向傳播

## 📋 重要任務（下週 P1）

### 4. 完整 xLSTM 實現
- [ ] 實現 sLSTM（標量記憶 + 指數門控）
- [ ] 實現 mLSTM（矩陣記憶）
- [ ] 實現 Hybrid 架構
- [ ] 性能優化和 GPU 支援

### 5. ✅ Dataset 模組重構 - 已完成
- [x] 重構 Dataset 模組為結構化子包
- [x] 從 2 個大文件（430+499行）分離為專門化文件
- [x] 清晰的關注點分離：config/, core/, storage/, utils/
- [x] 正規化器共享問題修復
- [x] 71/72 測試通過，向後兼容性確保
- [x] 冗餘代碼清理

### 6. 專案結構重組（持續中）
- [ ] 移除 sanbox/ 重複代碼
- [ ] 清理空文件
- [ ] 重組目錄結構為：
  ```
  src/social_xlstm/
  ├── models/
  │   ├── lstm/
  │   ├── xlstm/
  │   └── base/
  ├── configs/
  │   ├── models/
  │   └── training/
  └── trainers/
  ```

### 7. ✅ 訓練流程建立 - 已完成
- [x] 實現統一的訓練器介面 (src/social_xlstm/training/trainer.py)
- [x] 整合評估指標 (src/social_xlstm/evaluation/evaluator.py)
- [x] 建立實驗管理系統
- [x] 訓練腳本重構（ADR-0400 實施完成）

## 🔄 持續任務（第三週 P2）

### 8. 模型訓練與評估
- [ ] Social-xLSTM vs LSTM 基準比較
- [ ] 超參數調優
- [ ] 性能分析和視覺化
- [ ] 結果記錄和分析

### 9. 測試覆蓋率提升
- [ ] 單元測試覆蓋率 > 70%
- [ ] 整合測試
- [ ] 性能基準測試

## 📝 文檔任務（第四週 P3）

### 10. 期末報告準備
- [ ] 實驗結果整理
- [ ] 技術文檔更新
- [ ] 論文撰寫準備
- [ ] 程式碼最終清理

## 🔍 已完成任務 ✅

### 2025-01-08
- [x] 專案狀態分析與整理
- [x] 期中報告分析（使用 MCP markdownify）
- [x] 文檔結構重組（移除數字前綴）
- [x] 數學公式定義（LaTeX）
- [x] ADR 系統建立
- [x] 座標處理系統分析（發現已有完整實現）
- [x] LSTM 實現分析和統一策略設計
- [x] ADR-0002 創建（LSTM 統一方案）

### 2025-01-09
- [x] Dataset 模組重構（ADR-0002 LSTM 統一方案實施）
- [x] 從 2 個大文件（430+499行）分離為結構化子包
- [x] 建立清晰的關注點分離：config/, core/, storage/, utils/
- [x] 修復正規化器共享問題
- [x] 71/72 測試通過，確保向後兼容性
- [x] 冗餘代碼清理和文檔更新
- [x] 訓練腳本重構（ADR-0400 實施完成）

## 📊 關鍵決策待定

1. ✅ **ADR-0002 批准**：LSTM 統一計劃已執行完成
2. ✅ **並行開發策略**：架構清理與核心功能並行進行
3. **配置系統**：YAML 配置系統的具體實現細節
4. **下一步核心功能**：根據 ADR-0100 和 ADR-0101，開始 Social Pooling 和 xLSTM 實現

## 🎯 成功指標

### 第一週結束（本週）
- [x] ✅ Dataset 模組重構完成（2025-01-09）
- [x] ✅ LSTM 統一實現完成（2025-01-09）
- [x] ✅ 訓練系統重構完成（2025-01-09）
- [ ] 社交池化演算法原型實現
- [ ] Social-xLSTM 模型骨架能夠載入和初始化

### 第二週結束
- [ ] 完整的 Social-xLSTM 模型實現
- [ ] 能夠在小數據集上訓練
- [ ] 專案結構重組完成

### 第三週結束
- [ ] Social-xLSTM vs LSTM 基準比較完成
- [ ] 測試覆蓋率 > 70%
- [ ] 初步實驗結果可用

### 第四週結束
- [ ] 期末報告完成
- [ ] 程式碼品質達到發布標準
- [ ] 所有實驗結果文檔化

## 💡 注意事項

1. **優先級調整原則**：如遇技術困難，優先保證核心功能（Social-xLSTM）實現
2. **程式碼品質**：每次提交前確保通過 linting 和基本測試
3. **文檔同步**：重要變更需同步更新 ADR 和相關文檔
4. **進度回顧**：每週五進行進度回顧和優先級調整

## 🔗 相關文檔

- [專案概述](overview/project_overview.md)
- [ADR 列表](adr/README.md)
- [專案變更記錄](reports/project_changelog.md)
- [關鍵決策記錄](overview/key_decisions.md)

---

**提醒**：此文檔應每日更新，反映最新的專案狀態和優先級變化。